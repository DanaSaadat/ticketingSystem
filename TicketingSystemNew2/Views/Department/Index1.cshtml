
@{
    ViewBag.Title = "Index1";
}





@if (ViewBag.MyErrorMessage != null)
{


    <div class="alert alert-danger" style="font-size:20px;">
        Exception Details :
        @ViewBag.MyErrorMessage
    </div>
}
<div class="container">
    <h2>Department </h2>
    <h5 style="font-weight: bold; font-size: 16px; background: #0f1466; color: snow; width: 200px !important; height: 35px !important; padding: 9px; ">Total Department: @ViewBag.TotalDepartment</h5>

    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#myModal" onclick="clearTextBox();">Add New Department </button><br /><br />
    <table id="myTable1" class="table table-bordered table-hover">
        <thead>
            <tr>
                <th>
                    ID
                </th>
                <th>
                    Name
                </th>
                <th> Action </th>
                @*<th>
                        Age
                    </th>
                    <th>
                        Email
                    </th>
                    <th>
                        Phone
                    </th>
                    <th>
                        Address
                    </th>
                    <th>
                        Action
                    </th>*@
            </tr>
        </thead>
        <tbody class="tbody"></tbody>
    </table>
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">×</button>
                <h4 class="modal-title" id="myModalLabel">Add Department</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="id">id</label>
                        <input type="text" class="form-control" id="id" placeholder="id" disabled="disabled" />
                    </div>
                    <div class="form-group">
                        <label for="Name">Name</label>
                        <input type="text" class="form-control" id="Name" placeholder="Name" />
                    </div>

                    <div id="testt" class="form-group hidden">
                        <label for="ManagerID">Manager </label>

                        @*@Html.DropDownListFor(model => model.ManagerID, null, "select Manager", htmlAttributes: new { @class = "form-control" })*@

                        <select name="ManagerID" id="ManagerID" class="form-control">
                            @*<option value="select" selected="selected"> select</option>*@
                            Select Manager
                        </select>
                    </div>
                    @*<div class="form-group">
                            <label for="Age">Age</label>
                            <input type="text" class="form-control" id="Age" placeholder="Age" />
                        </div>
                        <div class="form-group">
                            <label for="Email">Email</label>
                            <input type="text" class="form-control" id="Email" placeholder="Email" />
                        </div>
                        <div class="form-group">
                            <label for="Phone">Phone</label>
                            <input type="text" class="form-control" id="Phone" placeholder="Phone" />
                        </div>
                        <div class="form-group">
                            <label for="Address">Address</label>
                            <input type="text" class="form-control" id="Address" placeholder="Address" />
                        </div>

                        <div class="form-group">
                            <label for="fromdate">from date</label>
                            <input type="date" class="form-control" id="fromdate" placeholder="fromdate" />
                        </div>

                        <div class="form-group">
                            <label for="todate">to date</label>
                            <input type="date" class="form-control" id="todate" placeholder="todate" />
                        </div>*@
                </form>
            </div>
            <div class="modal-footer">
                @*<button type="button" class="btn btn-primary" id="btnAdd" onclick="return Add();">Add</button>*@
                <button type="button" class="btn btn-primary" id="btnAdd" onclick="Add();">Add</button>
                <button type="button" class="btn btn-primary" id="btnUpdate" style="display:none;" onclick="Update();">Update</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script src="~/Scripts/jquery-3.4.1.min.js"></script>

@*<script src="~/Scripts/Department.js"></script>*@

<link href="//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" rel="stylesheet" />
@section scripts{


    <script src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="~/Scripts/Department.js"></script>


    <script>
        //$(document).ajaxError(function (evt, xhr) {
        //    try {
        //        var json = $.parseJSON(xhr.responseText);
        //        alert(json.errorMessage);
        //    } catch (e)
        //    {
        //        var json = $.parseJSON(xhr.responseText);
        //        alert(json.errorMessage);
             
        //    }
        //});
            //$(document).ready(function () {
            //    loadData();



            //});
            //function loadData() {
            //    debugger;
            //    $.ajax({
            //        url: "/Department/List",
            //        type: "GET",
            //        contentType: "application/json;charset=utf-8",
            //        dataType: "json",
            //        success: function (result) {

            //            var html = '';
            //            $.each(result, function (key, item) {

            //                html += '<tr>';
            //                html += '<td>' + item.ID + '</td>';
            //                html += '<td>' + item.Name + '</td>';

            //                html += '<td><a href="#" class="btn btn-primary" onclick="return getbyID(' + item.ID + ')">Edit</a>  <a class="btn btn-danger" href="#" onclick="Delele(' + item.ID + ')">Delete</a></td>';
            //                html += '</tr>';
            //            });
            //            $('.tbody').html(html);

            //            $("#myTable1").DataTable(html);
            //        },
            //        error: function (errormessage) {
            //            alert(errormessage.responseText);

            //        }
            //    });
            //}
    </script>
}

